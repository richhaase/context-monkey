---
description: Delegate to cm-planner subagent for comprehensive implementation planning
argument-hint: "<goalâ€¦>"
allowed-tools: Task
---


# Intent

{{#if agent.supportsSubagents}}
Delegate implementation planning to the specialized cm-planner subagent for deep technical analysis and risk-aware planning.
{{else}}
Use the planning workflow to break down the goal with full project awareness.
{{/if}}

# Procedure

1. **Pass goal to planner**: Provide $ARGUMENTS as the planning objective
2. **Planner analyzes**: Examines codebase, considers options, assesses risks
3. **Structured output**: Planner provides comprehensive plan with:
   - Goal clarification and constraints
   - Current state analysis
   - Multiple options with trade-offs
   - Detailed technical design
   - Step-by-step implementation
   - Risk assessment and mitigations
   - Clear acceptance criteria

# Execution

When this command runs, {{agent.name}} will:

{{> insert.delegateTo step="1" id="cm-planner" label="cm-planner" purpose="implementation planner" prompt="Pass the planning goal from $ARGUMENTS" description="Create implementation plan"}}

{{#if agent.supportsSubagents}}
The cm-planner subagent specializes in:
- Breaking down complex tasks
- Evaluating multiple approaches
- Identifying risks and dependencies
- Creating actionable implementation steps
- Defining clear success criteria

The planner remains read-only during analysis and produces a comprehensive plan that can be saved to `docs/plans/` if desired.
{{else}}
Follow this planning checklist:
- Clarify the goal, constraints, and acceptance criteria.
- Analyze the current state of the codebase related to the request.
- Consider multiple approaches and note trade-offs.
- Produce a step-by-step implementation plan.
- Highlight risks, mitigations, and follow-up actions.
{{/if}}
